<div class="desktop-card-carousel row" style="margin-top: 30px;">
    {{#each trending.bestSellersOfWeek}}
    <div class="col-md-4 float-left">
        <a href="/product/{{this._id}}" style="color:black;text-decoration:none">
            <div class="card">
                <div class="image-block">
                    <img class="card-img-top img-fluid" src="/data/pic/{{this._id}}" alt="Card image cap">
                </div>
                <div class="card-body">
                    <h4 class="card-title">{{this.name}}</h4>
                </div>
            </div>
        </a>
    </div>
    {{/each}}
</div>




<div id="bestSellerCarousel" class="navbar-toggler carousel slide mobil-card-carousel" data-ride="carousel">
    <div class="carousel-inner row w-100 mx-auto">
        {{#each trending.bestSellersOfWeek}}
        <div class="carousel-item col-md-4 best-sellers-of-week-carousel">
            <a href="/product/{{this._id}}" style="color:black;text-decoration:none">
                <div class="card">
                    <img class="card-img-top img-fluid" src="/data/pic/{{this._id}}" alt="Card image cap">
                    <div class="card-body">
                        <h4 class="card-title">{{this.name}}</h4>
                    </div>
                </div>
            </a>
        </div>
        {{/each}}
    </div>
</div>
<script>
    document.querySelectorAll('.best-sellers-of-week-carousel')[0].classList.add('active')
    $(document).ready(function () {
        $("#bestSellerCarousel").on("slide.bs.carousel", function (e) {
            var $e = $(e.relatedTarget);
            var idx = $e.index();
            var itemsPerSlide = 3;
            var totalItems = $(".carousel-item").length;

            if (idx >= totalItems - (itemsPerSlide - 1)) {
                var it = itemsPerSlide - (totalItems - idx);
                for (var i = 0; i < it; i++) {
                    // append slides to end
                    if (e.direction == "left") {
                        $(".carousel-item")
                            .eq(i)
                            .appendTo(".carousel-inner");
                    } else {
                        $(".carousel-item")
                            .eq(0)
                            .appendTo($(this).find(".carousel-inner"));
                    }
                }
            }
        });
    });

</script>