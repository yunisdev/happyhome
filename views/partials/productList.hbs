<div style="margin:100px 0px;" class="container col-md-12">
    <div class="row col-md-10 offset-md-1">
        <h2 class="col-md-12 text-center">MÉ™hsullar</h2>
        <div class="container col-md-12">
            <div class="col-md-12" style="margin-top:50px" id="itemsContainer">

            </div>
        </div>
    </div>
</div>
<script>
    const loadProducts = async () => {
        const response = await fetch('/data/products')
        const data = await response.json()
        outputToScreen(data)
    }
    const outputToScreen = (data) => {
        console.log(data)
        for(var i=0;i<data.length;i++){
            document.querySelector('#itemsContainer').innerHTML += `
            <div class="col-md-4" style="padding:20px">
                <div class="card row" style="padding:10px">
                    <div class="col-md-12 float-left">
                        <img class="col-md-12" src="/data/pic/${data[i]._id}">
                    </div>
                    <div class="col-md-12 float-left" style="padding:10px">
                        <p class="text-muted">ID: ${data[i]._id}</p>
                        <p>Name: ${data[i].name}</p>
                        <p>Code: ${data[i].code}</p>
                    </div>
                    <div class="col-md-12 float-left">
                        <button onclick="location.href='/product/${data[i]._id}'" class="col-md-12 float-left btn btn-success" style="margin:5px">View</button>
                        <button onclick="location.href='/product/delete/${data[i]._id}'" class="col-md-12 float-left btn btn-danger" style="margin:5px">Delete</button>
                        <button onclick="location.href='/product/soldout/${data[i]._id}'" class="col-md-12 float-left btn btn-secondary" style="margin:5px">Sold Out / In Stock</button>
                    </div>
                </div>
            </div>
        `
        }
    }

    loadProducts()
</script>